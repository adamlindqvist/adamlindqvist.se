(function(n,t,i,r){var u=function(t,i){this.el=t;this.$el=n(t);this.options=i;that=this},f,e=!1,o=!1,s;(function(){for(var r=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n){var i=(new Date).getTime(),u=Math.max(0,16-(i-r)),f=t.setTimeout(function(){n(i+u)},u);return r=i+u,f});t.cancelAnimationFrame||(t.cancelAnimationFrame=function(n){clearTimeout(n)})})();u.prototype={defaults:{starColor:"rgba(255,255,255,1)",bgColor:"rgba(0,0,0,1)",mouseMove:!1,mouseColor:"rgba(0,0,0,0.2)",mouseSpeed:1,fps:5,speed:2,quantity:112,ratio:256,divclass:"starfield"},resizer:function(){var t=this.star,u=this.context.canvas.width,f=this.context.canvas.height,i,r,n;for(this.w=this.$el.width(),this.h=this.$el.height(),this.x=Math.round(this.w/2),this.y=Math.round(this.h/2),this.portrait=this.w<this.h,i=this.w/u,r=this.h/f,this.context.canvas.width=this.w,this.context.canvas.height=this.h,n=0;n<this.n;n++)this.star[n][0]=t[n][0]*i,this.star[n][1]=t[n][1]*r,this.star[n][3]=this.x+this.star[n][0]/this.star[n][2]*this.star_ratio,this.star[n][4]=this.y+this.star[n][1]/this.star[n][2]*this.star_ratio;that.context.fillStyle=that.settings.bgColor;this.context.strokeStyle=this.settings.starColor},init:function(){var u,f,s;this.settings=n.extend({},this.defaults,this.options);u=i.location.href;this.n=parseInt(u.indexOf("n=")!=-1?u.substring(u.indexOf("n=")+2,u.substring(u.indexOf("n=")+2,u.length).indexOf("&")!=-1?u.indexOf("n=")+2+u.substring(u.indexOf("n=")+2,u.length).indexOf("&"):u.length):this.settings.quantity);this.flag=!0;this.test=!0;this.w=0;this.h=0;this.x=0;this.y=0;this.z=0;this.star_color_ratio=0;this.star_x_save=0;this.star_y_save=0;this.star_ratio=this.settings.ratio;this.star_speed=this.settings.speed;this.star_speed_save=0;this.star=new Array(this.n);this.color=this.settings.starColor;this.opacity=.1;this.cursor_x=0;this.cursor_y=0;this.mouse_x=0;this.mouse_y=0;this.canvas_x=0;this.canvas_y=0;this.canvas_w=0;this.canvas_h=0;this.fps=this.settings.fps;this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|IEMobile)/);this.orientationSupport=t.DeviceOrientationEvent!==r;this.portrait=null;f=function(){that.w=that.$el.width();that.h=that.$el.height();that.initW=that.w;that.initH=that.h;that.portrait=that.w<that.h;that.wrapper=n("<canvas />").addClass(that.settings.divclass);that.wrapper.appendTo(that.el);that.starz=n("canvas",that.el);that.starz[0].getContext&&(that.context=that.starz[0].getContext("2d"),o=!0);that.context.canvas.width=that.w;that.context.canvas.height=that.h};f();s=function(){if(o){that.x=Math.round(that.w/2);that.y=Math.round(that.h/2);that.z=(that.w+that.h)/2;that.star_color_ratio=1/that.z;that.cursor_x=that.x;that.cursor_y=that.y;for(var n=0;n<that.n;n++)that.star[n]=new Array(5),that.star[n][0]=Math.random()*that.w*2-that.x*2,that.star[n][1]=Math.random()*that.h*2-that.y*2,that.star[n][2]=Math.round(Math.random()*that.z),that.star[n][3]=0,that.star[n][4]=0;that.context.fillStyle=that.settings.bgColor;that.context.strokeStyle=that.settings.starColor}else return};s();e=!0},anim:function(){this.mouse_x=this.cursor_x-this.x;this.mouse_y=this.cursor_y-this.y;this.context.fillRect(0,0,this.w,this.h);for(var n=0;n<this.n;n++)this.test=!0,this.star_x_save=this.star[n][3],this.star_y_save=this.star[n][4],this.star[n][0]+=this.mouse_x>>4,this.star[n][0]>this.x<<1&&(this.star[n][0]-=this.w<<1,this.test=!1),this.star[n][0]<-this.x<<1&&(this.star[n][0]+=this.w<<1,this.test=!1),this.star[n][1]+=this.mouse_y>>4,this.star[n][1]>this.y<<1&&(this.star[n][1]-=this.h<<1,this.test=!1),this.star[n][1]<-this.y<<1&&(this.star[n][1]+=this.h<<1,this.test=!1),this.star[n][2]-=this.star_speed,this.star[n][2]>this.z&&(this.star[n][2]-=this.z,this.test=!1),this.star[n][2]<0&&(this.star[n][2]+=this.z,this.test=!1),this.star[n][3]=this.x+this.star[n][0]/this.star[n][2]*this.star_ratio,this.star[n][4]=this.y+this.star[n][1]/this.star[n][2]*this.star_ratio,this.star_x_save>0&&this.star_x_save<this.w&&this.star_y_save>0&&this.star_y_save<this.h&&this.test&&(this.context.lineWidth=(1-this.star_color_ratio*this.star[n][2])*2,this.context.beginPath(),this.context.moveTo(this.star_x_save,this.star_y_save),this.context.lineTo(this.star[n][3],this.star[n][4]),this.context.stroke(),this.context.closePath())},loop:function(){this.anim();s=t.requestAnimationFrame(function(){that.loop()})},move:function(){function r(n){if(n.beta!==null&&n.gamma!==null){var t=n.gamma,i=n.beta;that.portrait||(t=n.beta*-1,i=n.gamma);that.cursor_x=that.w/2+t*5;that.cursor_y=that.h/2+i*5}}function u(t){that.cursor_x=t.pageX||t.clientX+n.scrollLeft-n.clientLeft;that.cursor_y=t.pageY||t.clientY+n.scrollTop-n.clientTop}var n=i.documentElement;this.orientationSupport&&!this.desktop?t.addEventListener("deviceorientation",r,!1):t.addEventListener("mousemove",u,!1)},stop:function(){t.cancelAnimationFrame(s);f=!1},start:function(){return e||(e=!0,this.init()),f||(f=!0,this.loop()),this.settings.mouseMove&&this.move(),this}};u.defaults=u.prototype.defaults;n.fn.starfield=function(n){return this.each(function(){new u(this,n).start()})};t.Starfield=u})(jQuery,window,document);$(".starfield").starfield();
/*
//# sourceMappingURL=main.min.js.map
*/